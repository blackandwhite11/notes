<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript">
		window.onload = function(){
			//方向键的Unicode编码
			// 上 38  下40  左37 右39
			var con = document.getElementById('con');
			var top_con_height = window.innerHeight - con.clientHeight;

			// 将移动分2部分， onkeydown控制方向， 定时器控制速度
			var dir = 0;
			var timer = setInterval(function(){
				switch(dir){
					case 38: 
						console.log('上');
						con.style.top = con.offsetTop - 10 + 'px';
						break;
					case 40:
						console.log('下');
						con.style.top = con.offsetTop + 10 + 'px';
						break;
					case 37: 
						console.log('左');
						con.style.left = con.offsetLeft - 10 + 'px';
						break;
					case 39: 
						console.log('右');
						con.style.left = con.offsetLeft + 10 + 'px';
						break;
				}
			}, 50);

			document.onkeydown = function(event){
				event = event || window.event;
				dir = event.keyCode;
				// console.log(event.keyCode);
				// switch(event.keyCode){
				// 	case 38: 
				// 		console.log('上');
				// 		con.style.top = con.offsetTop - 10 + 'px';
				// 		break;
				// 	case 40:
				// 		console.log('下');
				// 		con.style.top = con.offsetTop + 10 + 'px';
				// 		break;
				// 	case 37: 
				// 		console.log('左');
				// 		con.style.left = con.offsetLeft - 10 + 'px';
				// 		break;
				// 	case 39: 
				// 		console.log('右');
				// 		con.style.left = con.offsetLeft + 10 + 'px';
				// 		break;
				// }

				// 应该实现开始时滚动条不随方向键移动，当con 到底部时滚动条开始移动 但没有实现成功
				// if(!(con.offsetTop > top_con_height)){
				// 	console.log(window.innerHeight);
				//  	console.log(top_con_height);
				// 	return false;
				// }
				return false;
			};

			document.onkeyup = function(){
				// 键盘松开，
				dir = 0;
			}

		};
	</script>
	<style type="text/css">
		#con {
			width: 50px;
			height: 50px;
			background-color: pink;
			position: absolute;
		}
	</style>
</head>
<body style="height: 2000px">
	<div id="con"></div>

</body>
</html>